#apiVersion: metacontroller.k8s.io/v1alpha1
#kind: CompositeController
#metadata:
#  name: hello-controller
#spec:
#  generateSelector: true
#  parentResource:
#    apiVersion: example.com/v1
#    resource: helloworlds
#  childResources:
#  - apiVersion: v1
#    resource: pods
#    updateStrategy:
#      method: Recreate
#  hooks:
#    sync:
#      webhook:
#        url: http://hello-controller.hello/sync

apiVersion: apps/v1
kind: Deployment
metadata:
  name: mypod-controller
spec:
  replicas: 1
  selector:
    matchLabels:
      app: mypod-controller
  template:
    metadata:
      labels:
        app: mypod-controller
    spec:
      containers:
      - name: mypod-controller
        image: busybox
        command: ["./sync"]

